<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Your name here" />
  <title>Tutorial: R and RStudio</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="styles/github-pandoc.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Tutorial: R and RStudio</h1>
<p class="author">Your name here</p>
</header>
<h1 id="r-and-rstudio">R and RStudio</h1>
<h2 id="connecting-to-rstudio-server">Connecting to RStudio Server</h2>
<p>RStudio is available as a free desktop application that you can
install on your own computer and as a server (called RStudio Server)
that can be accessed through a web browser.</p>
<h2 id="the-rstudio-panes">The RStudio panes</h2>
<p>Once you are signed in you should see the following three RStudio
panes:</p>
<ul>
<li><strong>Console</strong> / <strong>Terminal</strong> pane
(left)</li>
<li><strong>Environment</strong> / <strong>History</strong> pane (top
right)</li>
<li><strong>Files</strong> / <strong>Plots</strong> /
<strong>Packages</strong> / <strong>Help</strong> pane (bottom
right)</li>
</ul>
<p>A fourth pane, called the <strong>Source</strong> pane, appears in
the top left when you create a new file or open an existing one.</p>
<p>Create a new R script now so that the <strong>Source</strong> pane is
shown:</p>
<ul>
<li>Click <strong>File</strong> -&gt; <strong>New File</strong> -&gt;
<strong>R Script</strong>.</li>
</ul>
<figure>
<img src="includes/b6ea18bcbec20b934aec4f91e0a654d1.png"
alt="The RStudio interface showing Source, Console, Environment, and Packages panes" />
<figcaption aria-hidden="true">The RStudio interface showing Source,
Console, Environment, and Packages panes</figcaption>
</figure>
<h2 id="typing-r-code-in-the-source-pane">Typing R code in the Source
pane</h2>
<p>The <strong>Source</strong> pane is typically where you work when
using RStudio. It is a text file editor where you can type or paste R
commands.</p>
<p>Enter the following lines of code into the <strong>Source</strong>
pane:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> y</span></code></pre></div>
<p>The above sequence of commands stores the value <code>7</code> as an
object called <code>x</code> (think of the <code>&lt;-</code> as an
arrow pointing to the object receiving the value), stores the value
<code>3</code> as an object called <code>y</code>, and then multiplies
the contents of <code>x</code> and <code>y</code>.</p>
<p>Note that when these commands are typed in the
<strong>Source</strong> pane they are not automatically executed.</p>
<p>To run the commands, select all three in the <strong>Source</strong>
pane and then press Ctrl+Enter.</p>
<p>The <strong>Console</strong> pane displays the R commands as they are
run from the <strong>Source</strong> pane as well as textual output and
error messages from those commands. When the above commands are run you
should see the following output in the <strong>Console</strong>
pane:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode texinfo"><code class="sourceCode texinfo"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>&gt; x &lt;- 7</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>&gt; y &lt;- 3</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>&gt; x * y</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>[1] 21</span></code></pre></div>
<p>The output value of <code>21</code> is shown.</p>
<p>The <code>[1]</code> next to the result is R indicating that this
line begins with the first value in the result (some commands can return
more than one value and their output can consume many lines). For
example, the command <code>1:100</code> returns 100 values and the
output is formatted as follows in the <strong>Console</strong> pane:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode texinfo"><code class="sourceCode texinfo"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>  [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a> [15]  15  16  17  18  19  20  21  22  23  24  25  26  27  28</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a> [29]  29  30  31  32  33  34  35  36  37  38  39  40  41  42</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a> [43]  43  44  45  46  47  48  49  50  51  52  53  54  55  56</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a> [57]  57  58  59  60  61  62  63  64  65  66  67  68  69  70</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a> [71]  71  72  73  74  75  76  77  78  79  80  81  82  83  84</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a> [85]  85  86  87  88  89  90  91  92  93  94  95  96  97  98</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a> [99]  99 100</span></code></pre></div>
<p>Next, edit the code in the <strong>Source</strong> pane, adding an
additional line:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> x <span class="sc">*</span> y</span></code></pre></div>
<p>Run the revised code by selecting all three lines and pressing
Ctrl+Enter.</p>
<p>Now in the <strong>Console</strong> pane you should see:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode texinfo"><code class="sourceCode texinfo"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>&gt; x &lt;- 7</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>&gt; y &lt;- 3</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>&gt; result &lt;- x * y</span></code></pre></div>
<p>The product of <code>x</code> and <code>y</code> is no longer printed
but instead is stored in an object called <code>result</code>.</p>
<p>You can save the contents of the <strong>Source</strong> pane at any
time using <strong>File</strong> -&gt; <strong>Save</strong>.</p>
<p>A typical RStudio session involves many iterations of typing commands
in the <strong>Source</strong> pane, running them, and looking at the
results in the <strong>Console</strong> pane.</p>
<h2 id="running-an-r-script">Running an R script</h2>
<p>An R script is a series of R commands saved in a text file. Use
<strong>File</strong> -&gt; <strong>Open File…</strong> to open the R
script called <code>upset_plot.R</code> located in the
<code>r_tutorials</code> directory you downloaded.</p>
<p>This script makes use of an R package called <code>UpSetR</code>. A
package is a collection of code, documentation, and other resources that
provides new functionality to R. This particular package generates <a
href="https://github.com/hms-dbmi/UpSetR">UpSet plots</a>, which are an
excellent alternative to Venn diagrams when examining the overlap among
sets.</p>
<p>In this example, lists of SNP consequences will be read from files
and compared for overlaps and the results plotted. Each file consists of
SNP per row, e.g.:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode texinfo"><code class="sourceCode texinfo"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>SNP</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>frameshift_variant c.102dupA p.Glu35fs</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>frameshift_variant c.1139_1140delCT p.Ser380fs</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>frameshift_variant c.1252_1253insT p.Gly418fs</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>frameshift_variant c.1292_1293insC p.Glu431fs</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>frameshift_variant c.16delA p.Ile6fs</span></code></pre></div>
<p>The first command in this script, <code>library(UpSetR)</code>, loads
the <code>UpSetR</code> package. For this command to work you first need
to install the <code>UpSetR</code> package:</p>
<ol type="1">
<li>In the Packages pane click <strong>Install</strong>.</li>
<li>In the <strong>Packages</strong> text area enter <code>UpSetR</code>
and click <strong>Install</strong>.</li>
</ol>
<p>Once the package is installed you can run the script by selecting the
text of the script and pressing Ctrl+Enter or by clicking
<strong>Run</strong>. The comments in the script explain what some of
the commands are doing.</p>
<p>The resulting plot (click the <strong>Plots</strong> pane if the plot
isn’t visible) shows the size of each SNP list (the <strong>Set
Size</strong> portion of the plot) and the number of SNPs that are
shared among each combination of files or that are unique to a file (the
<strong>Intersection Size</strong> portion of the plot). For example,
from the plot the following can be determined about analysis 6: 92 SNPs
are unique to this analysis; 28 SNPs are found by this analysis and
analyses 5, 3, and 1; 18 SNPs are found by this analysis and analyses 5
and 7; 4 SNPs are found by this analysis and analyses 5 and 1; and 1 SNP
is found by this analysis and analysis 7. Note that 92 + 28 + 18 + 4 + 1
= 143 which is the number of SNPs described in the
<code>SNPs_analysis_6.csv</code> file.</p>
<p>To save a plot click <strong>Export</strong> in the
<strong>Plots</strong> pane. The PDF or image file can then be
downloaded in the <strong>Files</strong> pane using
<strong>More</strong> -&gt; <strong>Export…</strong> and then
<strong>Download</strong>.</p>
<figure>
<img src="includes/980b466dcdaacfed2b1e411697b46c14.png"
alt="UpSet plot showing overlaps among SNP lists" />
<figcaption aria-hidden="true">UpSet plot showing overlaps among SNP
lists</figcaption>
</figure>
<p>Licensed under <a
href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a></p>
</body>
</html>
